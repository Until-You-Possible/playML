**PMML简介**



```text

模型预测标记语言(Predictive Model Markup Language) 是一种基于XML的存储模型的格式标准。这里的模型指的是那些由数据挖掘和机器学习
算法生成的预测模型。PMML为不同的数据分析软件或者编程语言。提供了一种轻松共享的预测分享模型的方式。他支持常见的模型。比如
逻辑回归和神经网络等。


```

```text

PMML是一套于平台无关的模型表示语言。是目前表示机器学习模型的世纪标准。

```

***PMM的作用***

```text

一个是机器学习的上线过程，主要包括： 分析，特征工程，模型训练，调优，上线。其中PMML的便捷性，主要体现在模型上线的过程中。
所谓模型的上线是将训练好的模型有效的应用于生产环境中去。一般而言，生产环境和数据分析人员所使用的环境差距巨大。

```

***PMML文件的结构遵循额从用于构建预测模型的常用步骤***

- 文件头： 包含了PMML文档的基本信息，例如模型的版权信息，描述，以及生成该文件所用的软件信息，生成时间等
- 数据字典： 包含了模型可能用到的所有字段名。并定义了字段的类型
- 数据挖掘模式：数据挖掘模式可以看做一个看门人。所有进出入模型的数据，必须经过一个数据挖掘模式。每个模型都包含切只能包含一个数据挖掘模式，
  用于列出该模型使用的数据。数据挖掘模式包含针对特定模型不同的信息， 相对的，数据字典中定义的相对则是稳定的，不会随着模型的变化而变化。
  数据挖掘模式的主要目的是列出使用模型需要的数据。数据挖掘也定义了每个字段的使用用途(激活，追加，目标)以及针对空值，非法数据的策略。
- 数据转化： 数据转化操作可以用于对进入模型之前的数据进行预处理。类比python sklearn中的 DataFrameMaper，一斤spark中特征预处理
  相关算子。pmml定义了如下简单的数据转化操作：标准化，离散化，映射值，自定义函数，聚合
- 模型： 包含了模型的定义和结构信息
- 输出： 定义了模型输出，对于一个任务来说，输出可以包括预测类以及所有可能类相关的概率。
- 目标：定义了应用于模型输出后的处理步骤，对于一个回归任务来说，此步骤支持将输出转变为人们很容易就可以理解的分数(预测结果)
- 模型解释：定义了对于将测试数据传递至模式时所获得的性能度量标准(与训练数据相对)。这些度量标准包括相关性，混淆矩阵，增益图以及接受者
  操作特征与线图
- 模型验证：定义了一个包含输如数据纪录和预期模型输出的实例集，这是一个非常重要的步骤，因为在应用程序之间移动模型时，该模型需要通过
  匹配测试，这样就可以确保，在呈现相同的输入的时候，新系统可以生成与旧系统同样的输出，如果世纪情况是这样的话，一个模型将被认为是
  经过了验证，且随时可以用于实践


***PMML的优点***

- 平台无关性，PMML可以让模型部署环境脱离开发环境，实现跨平台部署，是PMML区别与其他模型部署方法的最大优点，比如使用python建立的模型
  导出后可以部署在java生产环境中
- 互操作性，这就是标准协议最大的优势，实现了兼容PMML的预测程序可以读取其他应用程序导出的标注PMML模型
- 广泛的支持性，已经取得30余家厂商和开源项目的支持，通过已有的多个开源库，很多重量级流行的开源数据挖掘模型都可以转化成PMML。
- 可读性，PMML模型是一个基于XML的文本文件，使用任意的文本编辑器就可以打开并查看文件，比二进制序列化文件更加可靠。

***PMML的缺点***

- 支持不了多有的数据预处理和后处理操作，虽然PMML已经只支持了几乎的所有的标注数据的处理方式，但是对于一些用户自定义的操作，还缺乏
  一些有效的操作，很难放到PMML中。
- 模型类型支持有限，特别是缺乏对深度学习模型的支持，PMML下一版可能添加对深度模型的支持，目前Nyoka可以支持Keras等深度模型，但
  生成的是扩展的PMML模型
- PMML是一个松散的规范标准，有的厂商生成的PMML可能不太符合标准定义的Schema，并且PMML规范允许厂商添加自己的扩展，这些都对
  使用这些模型造成了一定的障碍






参考资料： https://www.biaodianfu.com/pmml.html